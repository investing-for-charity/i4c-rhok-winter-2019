{"version":3,"sources":["components/Card/index.tsx","components/Login/index.tsx","components/DashboardContent/utils.ts","components/DashboardContent/PieChart.tsx","components/DashboardContent/Captcha.tsx","components/DashboardContent/DonateMore.tsx","components/DashboardContent/index.tsx","components/Dashboard/index.tsx","api/index.ts","App.tsx","index.tsx"],"names":["cardCss","css","_templateObject","Login","_ref","onSubmit","emailValidate","useCallback","value","includes","undefined","Object","core_browser_esm","Login_templateObject","Form","_ref2","formProps","submitting","Field","name","defaultValue","label","isRequired","validate","_ref3","fieldProps","error","react","Textfield","Messages","type","_ref4","assign","FormFooter","_templateObject2","Button","appearance","isLoading","fmtNum","n","toLocaleString","maximumFractionDigits","CustomLabel","props","console","log","victory_label","victory_tooltip","x","y","text","concat","datum","amount","orientation","pointerLength","cornerRadius","width","height","flyoutStyle","fill","stroke","style","fontSize","defaultEvents","VictoryTooltip","PieChart","_ref$dashboardData","dashboardData","charities","annual_distribution_percent","fund_value","PieChart_templateObject","victory_pie","labels","padAngle","colorScale","innerRadius","labelComponent","PieChart_CustomLabel","data","filter","percent","map","charity","cause","charityPercent","victory_legend","Captcha","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","_reCaptchaRef","handleChange","setState","expired","onCaptchaSuccess","asyncScriptOnLoad","callback","state","load","React","createRef","_this$state","react_default","a","createElement","es","theme","ref","sitekey","onChange","Spinner","size","Component","DonateMore","_useState","useState","_useState2","slicedToArray","showData","setShowData","DonateMore_templateObject","DonateMore_templateObject2","Captcha_Captcha","moneyCss","DashboardContent_templateObject","headingCss","DashboardContent_templateObject2","sectionCss","_templateObject3","DashboardContent","onLogOut","first_name","donation_sum","_templateObject4","_templateObject5","_templateObject6","_templateObject7","SuccessProgressBar","href","rel","target","_templateObject8","onClick","reducer","action","objectSpread","Dashboard","component","_useReducer","useReducer","step","_useReducer2","dispatch","onLoginSubmit","asyncToGenerator","regenerator_default","mark","_callee","formData","_","wrap","_context","prev","next","email","password","axios","post","sent","stop","_x","_x2","_x3","Dashboard_templateObject","App","className","react_router_dom","react_router","exact","path","render","to","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.89cbbf4f.chunk.js","sourcesContent":["/** @jsx jsx */\nimport { css } from '@emotion/core';\n\nexport const cardCss = css`\n  width: 70%;\n  max-width: 700px;\n  background: #fff;\n  border-radius: 3px;\n  padding: 24px;\n  margin: auto auto 32px auto;\n\n  @media (min-width: 420px) {\n    width: 50%;\n  }\n`;\n","/** @jsx jsx */\nimport { css, jsx } from '@emotion/core';\nimport Form, { Field, FormFooter, ErrorMessage } from '@atlaskit/form';\nimport Button from '@atlaskit/button';\nimport TextField from '@atlaskit/textfield';\nimport { cardCss } from '../Card';\nimport { useCallback, Fragment } from 'react';\n\ntype Props = {\n  onSubmit: (formData: { email: string; password: string }, _form: any, callback: (errors?: Object) => void) => void;\n};\n\nexport default ({ onSubmit }: Props) => {\n  const emailValidate = useCallback((value: string): undefined | 'INVALID_EMAIL' => {\n    return value.includes('@') ? undefined : 'INVALID_EMAIL';\n  }, []);\n\n  return (\n    <div css={cardCss}>\n      <h1\n        css={css`\n          font-size: 18px;\n          color: #505f79;\n        `}\n      >\n        Log in to donor portal\n      </h1>\n      <Form onSubmit={onSubmit}>\n        {({ formProps, submitting }) => (\n          <form {...formProps}>\n            <Field name=\"email\" defaultValue=\"\" label=\"Email\" isRequired validate={emailValidate}>\n              {({ fieldProps, error }) => (\n                <Fragment>\n                  <TextField {...fieldProps} />\n                  {error && <ErrorMessage>Please enter a valid email address</ErrorMessage>}\n                </Fragment>\n              )}\n            </Field>\n            <Field name=\"password\" type=\"password\" defaultValue=\"\" label=\"Password\" isRequired>\n              {({ fieldProps }) => <TextField type=\"password\" {...fieldProps} />}\n            </Field>\n            <FormFooter>\n              <div\n                css={css`\n                  > button {\n                    background: #36b37e;\n                  }\n                `}\n              >\n                <Button type=\"submit\" appearance=\"primary\" isLoading={submitting}>\n                  Submit\n                </Button>\n              </div>\n            </FormFooter>\n          </form>\n        )}\n      </Form>\n    </div>\n  );\n};\n","export const fmtNum = (n: number) => n.toLocaleString(undefined, { maximumFractionDigits: 2 });\n","/** @jsx jsx */\nimport { css, jsx } from '@emotion/core';\nimport { DashboardData } from '../../api/types';\nimport { fmtNum } from './utils';\nimport { VictoryLegend, VictoryPie, VictoryLabel, VictoryTooltip } from 'victory';\n\ntype Props = {\n  dashboardData: DashboardData;\n};\n\nconst CustomLabel = props => {\n  console.log('label props', props);\n  return (\n    <g>\n      <VictoryLabel {...props} />\n      <VictoryTooltip\n        {...props}\n        x={200}\n        y={250}\n        text={`$${props.datum.amount}`}\n        orientation=\"top\"\n        pointerLength={0}\n        cornerRadius={50}\n        width={100}\n        height={100}\n        flyoutStyle={{ fill: 'white', stroke: 'transparent' }}\n        style={{ fontSize: 30 }}\n      />\n    </g>\n  );\n};\n\n// @ts-ignore\nCustomLabel.defaultEvents = VictoryTooltip.defaultEvents;\n\nexport default ({ dashboardData: { charities, annual_distribution_percent, fund_value } }: Props) => {\n  const getAmountPerCharity = (charityPercent: number) =>\n    (annual_distribution_percent / 100) * fund_value * (charityPercent / 100);\n\n  return (\n    <div\n      css={css`\n        @media (min-width: 420px) {\n          display: flex;\n        }\n      `}\n    >\n      <VictoryPie\n        style={{ labels: { fill: 'black' } }}\n        padAngle={1}\n        colorScale=\"qualitative\"\n        innerRadius={100}\n        labelComponent={<CustomLabel />}\n        data={charities\n          .filter(x => x.percent > 0)\n          .map(charity => ({\n            x: charity.cause,\n            y: charity.percent,\n            label: `${charity.percent} %`,\n            amount: fmtNum(getAmountPerCharity(charity.percent)),\n          }))}\n      />\n      <VictoryLegend\n        style={{ labels: { fontSize: 24 } }}\n        colorScale=\"qualitative\"\n        x={50}\n        data={charities\n          .filter(x => x.percent > 0)\n          .map(charity => ({\n            name: charity.cause,\n          }))}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport Spinner from '@atlaskit/spinner';\nimport ReCAPTCHA from 'react-google-recaptcha';\n\nconst TEST_SITE_KEY = '6LfxNKoUAAAAAKiAptSHXNYktvQyd1olXzoS3Ibt';\n\ntype Props = {\n  onCaptchaSuccess: () => void;\n};\n\ntype State = {\n  callback: string;\n  value: string;\n  load: boolean;\n  expired: string;\n};\n\nexport default class Captcha extends React.Component<Props, State> {\n  _reCaptchaRef: any;\n\n  constructor(props, ...args) {\n    super(props, ...args);\n    this.state = {\n      callback: 'not fired',\n      value: '[empty]',\n      load: false,\n      expired: 'false',\n    };\n    this._reCaptchaRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setState({ load: true });\n    console.log('didMount - reCaptcha Ref-', this._reCaptchaRef);\n  }\n\n  handleChange = value => {\n    console.log('Captcha value:', value);\n    this.setState({ value });\n    // if value is null recaptcha expired\n    if (value === null) {\n      this.setState({ expired: 'true' });\n    } else {\n      this.props.onCaptchaSuccess();\n    }\n  };\n\n  asyncScriptOnLoad = () => {\n    this.setState({ callback: 'called!' });\n  };\n\n  render() {\n    const { value, callback, load, expired } = this.state;\n    return (\n      <div>\n        {load ? (\n          <ReCAPTCHA\n            theme=\"light\"\n            ref={this._reCaptchaRef}\n            sitekey={TEST_SITE_KEY}\n            onChange={this.handleChange}\n            asyncScriptOnLoad={this.asyncScriptOnLoad}\n          />\n        ) : (\n          <Spinner size=\"large\" />\n        )}\n      </div>\n    );\n  }\n}\n","/** @jsx jsx */\nimport { useState, useCallback } from 'react';\nimport { css, jsx } from '@emotion/core';\nimport { Fragment } from 'react';\nimport Captcha from './Captcha';\n\nexport default () => {\n  const [showData, setShowData] = useState(false);\n  const onCaptchaSuccess = useCallback(() => {\n    setShowData(true);\n  }, []);\n\n  return (\n    <Fragment>\n      <span\n        css={css`\n          text-decoration: none;\n          margin: 16px 0;\n          color: #505f79;\n        `}\n      >\n        Donate more:\n      </span>\n      {showData ? (\n        <table\n          css={css`\n            color: #505f79;\n            border-spacing: 16px;\n            margin-left: -16px;\n\n            td:first-of-type {\n              font-weight: bold;\n            }\n          `}\n        >\n          <tbody>\n            <tr>\n              <td>Account name</td>\n              <td>Investing for Charity Ltd</td>\n            </tr>\n            <tr>\n              <td>Account number</td>\n              <td>806254</td>\n            </tr>\n            <tr>\n              <td>BSB</td>\n              <td>032-000</td>\n            </tr>\n            <tr>\n              <td>Reference</td>\n              <td>{'<Your fund name>'}</td>\n            </tr>\n          </tbody>\n        </table>\n      ) : (\n        <Captcha onCaptchaSuccess={onCaptchaSuccess} />\n      )}\n    </Fragment>\n  );\n};\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/core\";\nimport { SuccessProgressBar } from \"@atlaskit/progress-bar\";\nimport { DashboardData } from \"../../api/types\";\nimport { cardCss } from \"../Card\";\nimport { Button } from \"@atlaskit/button/components/Button\";\nimport PieChart from \"./PieChart\";\nimport DonateMore from \"./DonateMore\";\nimport { fmtNum } from \"./utils\";\n\ntype Props = {\n  dashboardData: DashboardData;\n  onLogOut: () => void;\n};\n\nconst moneyCss = css`\n  color: #36b37e;\n  font-size: 32px;\n`;\n\nconst headingCss = css`\n  margin: 0;\n  font-size: 12px;\n  color: #505f79;\n  margin-bottom: 8px;\n  text-transform: uppercase;\n`;\n\nconst sectionCss = css`\n  ${cardCss}\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 420px) {\n    width: 50%;\n  }\n`;\n\nexport default ({ dashboardData, onLogOut }: Props) => {\n  const {\n    first_name,\n    donation_sum,\n    annual_distribution_percent,\n    charities,\n    fund_value\n  } = dashboardData;\n  return (\n    <div\n      css={css`\n        dl {\n          margin: 0;\n        }\n\n        dd {\n          margin-left: 0;\n        }\n      `}\n    >\n      <section\n        css={css`\n          ${sectionCss}\n          justify-content: space-between;\n        `}\n      >\n        <h1\n          css={css`\n            font-size: 18px;\n            color: #505f79;\n            margin: 0;\n            margin-bottom: 16px;\n          `}\n        >\n          Welcome {first_name}\n        </h1>\n\n        <div>\n          <h1 css={headingCss}>Your charity fund balance now:</h1>\n          <div css={moneyCss}>${fmtNum(fund_value)}</div>\n        </div>\n      </section>\n\n      <section css={sectionCss}>\n        <h1 css={headingCss}>\n          This year you will distribute {fmtNum(annual_distribution_percent)} %\n        </h1>\n        <div\n          css={css`\n            margin: 16px 0;\n\n            span {\n              background: #36b37e;\n            }\n          `}\n        >\n          <SuccessProgressBar value={annual_distribution_percent / 100} />\n        </div>\n        <div css={moneyCss}>\n          ${fmtNum((annual_distribution_percent / 100) * fund_value)}\n        </div>\n      </section>\n      <section css={sectionCss}>\n        <h1 css={headingCss}>Charity allocation percentage</h1>\n        <PieChart dashboardData={dashboardData} />\n      </section>\n      <section css={sectionCss}>\n        <h1 css={headingCss}>Donations received from you:</h1>\n        <div css={moneyCss}>${fmtNum(donation_sum)}</div>\n        <DonateMore />\n      </section>\n      <section css={sectionCss}>\n        <h1 css={headingCss}>Update your preferences:</h1>\n        <a\n          href=\"https://drive.google.com/open?id=1NI2mssEse1ZaUBxxlq2h23cFCCtlscX6DU7tJwupLl8\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          Click here to update your preferences\n        </a>\n      </section>\n      <div\n        css={css`\n          ${sectionCss}\n          padding-top: 8px;\n          padding-bottom: 8px;\n\n          background: #fff;\n\n          > button {\n            background: #fff;\n            width: 100%;\n\n            > span {\n              width: 100%;\n            }\n          }\n        `}\n      >\n        <Button onClick={onLogOut}>Log out</Button>\n      </div>\n    </div>\n  );\n};\n","/** @jsx jsx */\nimport React from 'react';\nimport { css, jsx } from '@emotion/core';\nimport { useReducer, useCallback } from 'react';\nimport Login from '../Login';\nimport DashboardContent from '../DashboardContent';\nimport { getDashboardData, mockData } from '../../api';\nimport { DashboardData } from '../../api/types';\n\ntype Step = 'LOGIN' | 'DASHBOARD';\ntype State = {\n  step: Step;\n  dashboardData?: DashboardData;\n};\n\nconst useMock = false;\n\nconst reducer = (state: State, action: Partial<State>): State => ({\n  ...state,\n  ...action,\n});\n\nexport default () => {\n  const [state, dispatch] = useReducer(reducer, {\n    step: useMock ? 'DASHBOARD' : 'LOGIN',\n    dashboardData: useMock ? mockData : undefined,\n  });\n\n  const onLoginSubmit = useCallback(\n    (async (formData, _, callback) => {\n      const { data } = await getDashboardData(formData.email, formData.password);\n      callback();\n\n      dispatch({\n        step: 'DASHBOARD',\n        dashboardData: data,\n      });\n    }) as React.ComponentProps<typeof Login>['onSubmit'],\n    []\n  );\n\n  const onLogOut = useCallback(() => {\n    dispatch({\n      step: 'LOGIN',\n      dashboardData: undefined,\n    });\n  }, []);\n\n  let component: React.ReactNode;\n  switch (state.step) {\n    case 'LOGIN': {\n      component = <Login onSubmit={onLoginSubmit} />;\n      break;\n    }\n    case 'DASHBOARD': {\n      component = state.dashboardData && <DashboardContent dashboardData={state.dashboardData} onLogOut={onLogOut} />;\n      break;\n    }\n  }\n\n  return (\n    <div\n      css={css`\n        min-height: 100vh;\n        height: 100%;\n        padding: 40px 0;\n        background: #57d9a3;\n      `}\n    >\n      {component}\n    </div>\n  );\n};\n","import axios from 'axios';\nimport { DashboardData } from './types';\n\nconst useMock = process.env.NODE_ENV !== 'production';\nconst baseUrl = `https://rhok-i4c-winter2019-fe-pyserv.herokuapp.com/`;\n\nexport const mockData: DashboardData = {\n  actual_distribution: 10143.18,\n  annual_distribution_percent: 15.0,\n  charities: [\n    { cause: 'Underprivileged Youth', charity_name: 'Life for Koori Kids', percent: 10.0 },\n    { cause: 'Refugees in Australia', charity_name: 'St Francis Social Services', percent: 10.0 },\n    { cause: 'Child Slavery', charity_name: 'Connecting Hands', percent: 10.0 },\n    { cause: 'Mental Health', charity_name: 'PANDA', percent: 10.0 },\n    { cause: 'Women & Domestic Violence', charity_name: 'Port Macq Hastings Specialist Service', percent: 10.0 },\n    { cause: 'Global Poverty', charity_name: 'Against Malaria Foundation', percent: 10.0 },\n    { cause: 'Youth at Risk', charity_name: 'Streetwork Incorporated', percent: 20.0 },\n    { cause: 'Social Enterprise', charity_name: 'The Bread and Butter Project', percent: 20.0 },\n  ],\n  donation_sum: 54305.33,\n  first_name: 'Christophe',\n  fund_value: 67621.1809563419,\n};\n\nexport const getDashboardData = (email: string, password: string): Promise<{ data: DashboardData }> =>\n  useMock\n    ? new Promise(res => {\n        setTimeout(res, 1000);\n      }).then(() => ({ data: mockData }))\n    : axios.post(`${baseUrl}/get`, {\n        email,\n        password,\n      });\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport { HashRouter, Route, Redirect } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\n// import Homepage from './components/Homepage';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        {/* reserve homepage url for later, at the moment just redirect */}\n        <Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}