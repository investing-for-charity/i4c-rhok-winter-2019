(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(n,t,e){n.exports=e(347)},198:function(n,t,e){},345:function(n,t,e){},347:function(n,t,e){"use strict";e.r(t);var a=e(1),r=e.n(a),c=e(80),o=e.n(c),i=(e(198),e(3)),b=e(184),u=e(46),s=e(24),d=e(107),l=e.n(d),f=e(164),O=e(188),j=e(189),p=e(113),v=e(87),m=e(356),h=e(366),g=e(187),x=e(361);function w(){var n=Object(s.a)(["\n  width: 70%;\n  max-width: 700px;\n  background: #fff;\n  border-radius: 3px;\n  padding: 24px;\n  margin: auto auto 32px auto;\n\n  @media (min-width: 420px) {\n    width: 50%;\n  }\n"]);return w=function(){return n},n}var y=Object(i.a)(w());function k(){var n=Object(s.a)(["\n                  > button {\n                    background: #36b37e;\n                  }\n                "]);return k=function(){return n},n}function D(){var n=Object(s.a)(["\n          font-size: 18px;\n          color: #505f79;\n        "]);return D=function(){return n},n}var L=function(n){var t=n.onSubmit,e=Object(a.useCallback)(function(n){return n.includes("@")?void 0:"INVALID_EMAIL"},[]);return Object(i.b)("div",{css:y},Object(i.b)("h1",{css:Object(i.a)(D())},"Log in to donor portal"),Object(i.b)(p.c,{onSubmit:t},function(n){var t=n.formProps,r=n.submitting;return Object(i.b)("form",t,Object(i.b)(v.b,{name:"email",defaultValue:"",label:"Email",isRequired:!0,validate:e},function(n){var t=n.fieldProps,e=n.error;return Object(i.b)(a.Fragment,null,Object(i.b)(x.a,t),e&&Object(i.b)(m.a,null,"Please enter a valid email address"))}),Object(i.b)(v.b,{name:"password",type:"password",defaultValue:"",label:"Password",isRequired:!0},function(n){var t=n.fieldProps;return Object(i.b)(x.a,Object.assign({type:"password"},t))}),Object(i.b)(h.a,null,Object(i.b)("div",{css:Object(i.a)(k())},Object(i.b)(g.b,{type:"submit",appearance:"primary",isLoading:r},"Submit"))))}))},S=e(362),_=function(n){return n.toLocaleString(void 0,{maximumFractionDigits:2})},A=e(364),I=e(368),R=e(358),z=e(360),C=function(n){return console.log("label props",n),Object(i.b)("g",null,Object(i.b)(A.a,n),Object(i.b)(I.a,Object.assign({},n,{x:200,y:250,text:"$".concat(n.datum.amount),orientation:"top",pointerLength:0,cornerRadius:50,width:100,height:100,flyoutStyle:{fill:"white",stroke:"transparent"},style:{fontSize:30}})))};C.defaultEvents=I.a.defaultEvents;var E=function(n){var t=n.dashboardData,e=t.charities,r=t.annual_distribution_percent,c=t.fund_value;return Object(i.b)(a.Fragment,null,Object(i.b)(R.a,{style:{labels:{fill:"black"}},padAngle:1,colorScale:"qualitative",innerRadius:100,labelComponent:Object(i.b)(C,null),data:e.map(function(n){return{x:n.cause,y:n.percent,label:"".concat(n.percent," %"),amount:_((t=n.percent,r/100*c*(t/100)))};var t})}),Object(i.b)(z.a,{style:{labels:{fontSize:24}},colorScale:"qualitative",x:50,data:e.map(function(n){return{name:n.cause}})}))};function N(){var n=Object(s.a)(["\n          ","\n          padding-top: 8px;\n          padding-bottom: 8px;\n\n          background: #fff;\n\n          > button {\n            background: #fff;\n            width: 100%;\n\n            > span {\n              width: 100%;\n            }\n          }\n        "]);return N=function(){return n},n}function P(){var n=Object(s.a)(["\n            text-decoration: none;\n            margin-top: 8px;\n            color: #2684ff;\n          "]);return P=function(){return n},n}function q(){var n=Object(s.a)(["\n            margin: 16px 0;\n\n            span {\n              background: #36b37e;\n            }\n          "]);return q=function(){return n},n}function $(){var n=Object(s.a)(["\n            font-size: 18px;\n            color: #505f79;\n            margin: 0;\n            margin-bottom: 16px;\n          "]);return $=function(){return n},n}function B(){var n=Object(s.a)(["\n          ","\n          justify-content: space-between;\n        "]);return B=function(){return n},n}function F(){var n=Object(s.a)(["\n        dl {\n          margin: 0;\n        }\n\n        dd {\n          margin-left: 0;\n        }\n      "]);return F=function(){return n},n}function G(){var n=Object(s.a)(["\n  ","\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 420px) {\n    width: 50%;\n    flex-direction: row;\n  }\n"]);return G=function(){return n},n}function V(){var n=Object(s.a)(["\n  margin: 0;\n  font-size: 12px;\n  color: #505f79;\n  margin-bottom: 8px;\n  text-transform: uppercase;\n"]);return V=function(){return n},n}function H(){var n=Object(s.a)(["\n  color: #36b37e;\n  font-size: 32px;\n"]);return H=function(){return n},n}var J=Object(i.a)(H()),M=Object(i.a)(V()),T=Object(i.a)(G(),y),W=function(n){var t=n.dashboardData,e=n.onLogOut,a=t.first_name,r=t.donation_sum,c=t.annual_distribution_percent,o=(t.charities,t.fund_value);return Object(i.b)("div",{css:Object(i.a)(F())},Object(i.b)("section",{css:Object(i.a)(B(),T)},Object(i.b)("h1",{css:Object(i.a)($())},"Welcome ",a),Object(i.b)("div",null,Object(i.b)("h1",{css:M},"Your charity fund balance now:"),Object(i.b)("div",{css:J},"$",_(o)))),Object(i.b)("section",{css:T},Object(i.b)("h1",{css:M},"This year you will distribute ",_(c)," %"),Object(i.b)("div",{css:Object(i.a)(q())},Object(i.b)(S.a,{value:c/100})),Object(i.b)("div",{css:J},"$",_(c/100*o))),Object(i.b)("section",{css:T},Object(i.b)("h1",{css:M},"Charity allocation percentage"),Object(i.b)(E,{dashboardData:t})),Object(i.b)("section",{css:T},Object(i.b)("h1",{css:M},"Donations received from you:"),Object(i.b)("div",{css:J},"$",_(r)),Object(i.b)("a",{css:Object(i.a)(P()),href:"javascript:void(0)"},"Donate more")),Object(i.b)("div",{css:Object(i.a)(N(),T)},Object(i.b)(g.a,{onClick:e},"Log out")))},Y=e(183),K=e.n(Y);function Q(){var n=Object(s.a)(["\n        min-height: 100vh;\n        height: 100%;\n        padding: 40px 0;\n        background: #57d9a3;\n      "]);return Q=function(){return n},n}var U=function(n,t){return Object(j.a)({},n,t)},X=function(){var n,t=Object(a.useReducer)(U,{step:"LOGIN",dashboardData:void 0}),e=Object(O.a)(t,2),r=e[0],c=e[1],o=Object(a.useCallback)(function(){var n=Object(f.a)(l.a.mark(function n(t,e,a){var r,o;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e=t.email,i=t.password,K.a.post("".concat("https://rhok-i4c-winter2019-fe-pyserv.herokuapp.com/","/get"),{email:e,password:i});case 2:r=n.sent,o=r.data,a(),c({step:"DASHBOARD",dashboardData:o});case 6:case"end":return n.stop()}var e,i},n)}));return function(t,e,a){return n.apply(this,arguments)}}(),[]),b=Object(a.useCallback)(function(){c({step:"LOGIN",dashboardData:void 0})},[]);switch(r.step){case"LOGIN":n=Object(i.b)(L,{onSubmit:o});break;case"DASHBOARD":n=r.dashboardData&&Object(i.b)(W,{dashboardData:r.dashboardData,onLogOut:b})}return Object(i.b)("div",{css:Object(i.a)(Q())},n)};e(345);var Z=function(){return Object(i.b)("div",{className:"App"},Object(i.b)(b.a,null,Object(i.b)(u.b,{exact:!0,path:"/",render:function(){return Object(i.b)(u.a,{to:"/dashboard"})}}),Object(i.b)(u.b,{exact:!0,path:"/dashboard",component:X})))};o.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.7eedc75b.chunk.js.map